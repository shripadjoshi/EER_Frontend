<fieldset>

<div class="container">
    <div ng-if="isMsg" class="alert alert-success">
      <a href="javascript:void(0)" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      {{message}}
    </div>

    <div ng-if="isErr" class="alert alert-danger">
      <a href="javascript:void(0)" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      {{errMessage}}
    </div>
    <form id="create-department-form" class= "well form-horizontal" name="createDepartment">
    	<legend>Create Department</legend>
        
        <div class="form-group" ng-class="{'has-error':createDepartment.name.$invalid && createDepartment.name.$dirty}">
        	<label class="col-md-4 control-label">Department Name</label>
     			<div class="col-md-4 inputGroupContainer">
    				<div class="input-group">
  	  				<input type="text" class="form-control" placeholder="Department" name="name" ng-model="createDepartmentForm.name" ng-maxlength="200" required ng-blur="validateDepartmentExist(createDepartmentForm.name)">
  	            	<span class="help-block has-error" ng-if="createDepartment.name.$dirty">
  	            		<span ng-show="createDepartment.name.$error.required">Name is required.</span>
  	            		<span ng-show="createDepartment.name.$error.maxlength">The name cannot be more than 200 characters.</span>
  	            		<span ng-show="isDepartmentExist" class="help-block">Department is already taken.</span>
  	          		</span>
      			</div>
    			</div>
  		  </div>

        <div class="form-group" ng-class="{'has-error':createDepartment.purpose.$invalid && createDepartment.purpose.$dirty}">
        	<label class="col-md-4 control-label">Purpose of department</label>
        	<div class="col-md-4 inputGroupContainer">
        		  <div class="input-group">
        			 <input type="text" class="form-control" placeholder="Purpose" name="purpose" ng-model="createDepartmentForm.purpose" ng-maxlength="200" required>
            		<span class="help-block has-error" ng-if="createDepartment.purpose.$dirty">
                  <span ng-show="createDepartment.purpose.$error.required">Department purpose is required.</span>
			            <span ng-show="createDepartment.purpose.$error.maxlength">The purpose cannot be more than 200 characters.</span>
          			</span>
    			   </div>
  			 </div>
  		  </div>

        <div class="form-group" ng-class="{'has-error':createDepartment.company.$invalid && createDepartment.company.$dirty}">
          <label class="col-md-4 control-label">Company</label>
          <div class="col-md-4 inputGroupContainer">
              <div class="input-group">
               <select class="form-control" ng-model="createDepartmentForm.company" ng-options="company.id as company.name for company in companies" required>
                    <option value="">Select company</option>
                </select>
                <span class="help-block has-error" ng-if="createCompany.company.$dirty">
                  <span ng-show="createDepartment.company.$error.required">Department company is required.</span>
                </span>
             </div>
         </div>
        </div>


        <div class="form-group" ng-class="{'has-error':createDepartment.location.$invalid && createDepartment.location.$dirty}">
        	<label class="col-md-4 control-label">Location</label>
        	<div class="col-md-4 inputGroupContainer">
        		<div class="input-group">
        			<input type="text" class="form-control" placeholder="Location in the company" name="location" ng-model="createDepartmentForm.location">
    			</div>
  			</div>
  		</div>

  		
        <div class="form-group">
  			<label class="col-md-4 control-label"></label>
  			<div class="col-md-4">
  				<button class="btn btn-primary btn-lg btn-block" type="submit" ng-disabled="createDepartment.$invalid || isDepartmentExist" ng-click="createNewDepartment()">
	        		<span ng-hide="createDepartmentForm.loading">Create Department <span class="glyphicon glyphicon-send"></span></span>
	        		<span class="overlord-loading-spinner fa fa-spinner" ng-show="createDepartmentForm.loading" > <span class="glyphicon glyphicon-send"></span></span>
	        		<span ng-show="createDepartmentForm.loading">Preparing your new epartment...<span class="glyphicon glyphicon-send"></span></span>
      			</button>
      			<a href="#/departments" class="btn btn-primary btn-lg btn-block">Back</a>
  			</div>
		</div>
	</form>
</div>
</fieldset> 